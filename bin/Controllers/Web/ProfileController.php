<?php

namespace Bin\Controllers\Web;

use Bin\Models\User;
use Snake\Core\Http\Request;
use Bin\Controllers\Controller;

class ProfileController extends Controller {
  /**
   * Display a listing of the resource.
   *
   * @return void
   */
  public function index(Request $request) {
    $user = $request->get('id');

    $data = User::query("select * from users where id = '" . $user . "'");
    $data = $data->fetch();

    if (empty($data)) {
      return static::view('pages.profile.index', [
        'error' => 'User not found'
      ]);
    }

    static::view('pages.profile.index', [
      'data' => $data
    ]);
  }
}
