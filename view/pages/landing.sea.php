<?= $this->extend('layouts.landing') ?>

<?= $this->section('content') ?>
  <div class="container">
    <div class="title">
      <h1><?= config('bin', 'name') ?></h1>
      <p>WEB EXPLOITATION LABS</p>
    </div>
    <div class="route">
      <a href="<?= route('article.index') ?>">Artikel</a>
      <?= $get('is_logged_in')
        ? '<a href="' . route('admin.dashboard.index') . '">Admin</a>'
        : '<a href="' . route('login.index') . '">Login</a>'
      ?>
      <?= $get('is_logged_in')
        ? ''
        : '<a href="' . route('register.index') . '">Register</a>'
      ?>
      <?= $get('is_logged_in') ? '<a href="' . route('profile.index') . '?id=' . session()->get('user')['id'] . '">Profile</a>' : '' ?>

      <?php if ($get('is_logged_in')): ?>
        <a href="#" onclick="event.preventDefault();document.getElementById('logout').submit();">Logout</a>
        <form action="<?= route('logout') ?>" method="POST" class="d-none" id="logout"></form>
      <?php endif; ?>
    </div>
    <div class="content">
      <?php if ($get('bypass')): ?>
        <?php if ($get('type') === 'bac'): ?>
          <?= $this->put('partials.card.flag', ['flag_title' => 'bac', 'flag_key' => 'flag{this is bac key}']) ?>
        <?php else: ?>
          <?= $this->put('partials.card.flag', ['flag_title' => 'privilege_escalation', 'flag_key' => 'flag{this is privilege escalation key}']) ?>
        <?php endif; ?>
      <?php endif; ?>
    </div>
  </div>
<?= $this->stop() ?>
