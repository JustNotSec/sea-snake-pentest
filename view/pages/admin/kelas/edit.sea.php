<?= $this->extend('layouts.dashboard', ['title' => 'Kelas']) ?>

<?= $this->append('css') ?>
  <link rel="stylesheet" href="<?= asset('css/dashboard-custom.css') ?>">
<?= $this->stop() ?>

<?= $this->section('sidebar') ?>
  <?php if (session()->exists('user') && session()->get('user')['role'] == 'admin'): ?>
    <?= $this->put('partials.sidebar.admin') ?>
  <?php else: ?>
    <?= $this->put('partials.sidebar.user') ?>
  <?php endif; ?>
<?= $this->stop() ?>

<?= $this->section('content') ?>
  <?= $this->component('partials.header.hello', ['greet' => "Edit Data Kelas" . $get('data')['name']]) ?>
    <div>
      <a href="<?= route('admin.kelas.index') ?>" class="btn btn-primary">Back</a>
    </div>
  <?= $this->endcomponent() ?>

  <form action="<?= route('admin.kelas.update') ?>?id=<?= $get('data')['id'] ?>" method="post">
    <div class="mb-3">
      <label for="name" class="form-label">Nama Kelas</label>
      <input type="text" class="form-control" id="name" name="name" value="<?= $get('data')['name'] ?>">
    </div>

    <?php if ($get('error_form') && array_key_exists('name', $get('error_form'))): ?>
      <div class="alert alert-danger" role="alert">
      <?= $get('error_form')['name'] ?>
      </div>
    <?php endif; ?>

    <div class="mb-3">
      <label for="description" class="form-label">Deskripsi</label>
      <textarea class="form-control" id="description" name="description" rows="3"><?= $get('data')['description'] ?></textarea>
    </div>

    <?php if ($get('error_form') && array_key_exists('description', $get('error_form'))): ?>
      <div class="alert alert-danger" role="alert">
      <?= $get('error_form')['description'] ?>
      </div>
    <?php endif; ?>

    <?php if ($get('error')): ?>
      <div class="alert alert-danger" role="alert">
        <?= $get('error') ?>
      </div>
    <?php endif; ?>

    <button type="submit" class="btn btn-primary">Submit</button>
  </form>
<?= $this->stop() ?>
